@import '../components/3d-me';
@import '../components/lazy-loader';

main {
  display: block;
  position: relative;
  backface-visibility: hidden;
  transform: rotateX(-10deg) rotateY(10deg);
  transform-style: preserve-3d;
  transition: 200ms;

  & > *,
  & > * * {
    backface-visibility: hidden;
    transform-style: preserve-3d;
    display: inline-block;
  }
}

header {
  .me {
    display: block;
  }

  .writer {
    display: block;
    white-space: pre-wrap;
  }
  p {
    max-width: 50rem;
  }
}

.thoughts {
  padding: 0;
  text-align: left;
  position: relative;
  backface-visibility: hidden;

  & > p-3d-medium {
   display: block;
  }
}

.projects {
  padding: 0;
  text-align: left;
  position: relative;
  backface-visibility: hidden;

  & > p-3d-medium {
    display: block;
  }

  .project {
    margin: 2rem 2rem 2rem 0;
    a {
      backface-visibility: hidden;
      position: relative;
      opacity: 1;

      &:hover {
        opacity: 1;
      }

      &:hover:before {
        opacity: 0.07;
      }

      &:before {
        z-index: -1;
        display: block;
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        transform: translateZ(-80rem);
        content:'';
        background: black;
        opacity: 0.045;
        transition: opacity 200ms;

        body.scrolled-to-projects & {
         background: white;
        }

      }
      body.scrolled-to-projects &:hover + p {
        opacity: 1;
      }
    }

    img {
      height: 150px;
      display: inline-block;
      font-size: 0;
      line-height: 0;
      padding: 0;
      backface-visibility: hidden;
      position: relative;
      opacity: 1;
      transition: opacity 200ms filter 2000ms;

      &:hover {
        z-index: 30;
        opacity: 0.07;
      }

    }

    span {
      left: 0;
      top: 0;
      vertical-align: top;
      width: inherit;
      display: inline-block;
      position: absolute;
      opacity: 0;
      pointer-events: none;
      z-index: 10;
      transition: width 700ms;
      padding: 1rem;
    }

    a:hover + span {
      opacity: 1;
    }


    @include small {
      display: block;
      a {
        display: inline;
      }

      a:hover + span {
        opacity: 1;
      }

      img {
        max-width: 50%;
        height: auto;

        &:hover {
          opacity: 1;
        }
      }

      span {
        opacity: 1;
        left: inherit;
        top: inherit;
        vertical-align: top;
        width: inherit;
        display: inline;
        padding: 0 1rem;
      }
    }
  }
}

